<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiki Gesti√≥n BO</title>
    
    <!-- 1. PREVENCI√ìN PANTALLA BLANCA (Configuraci√≥n de entorno) -->
    <script>window.process = { env: { NODE_ENV: 'production' } };</script>

    <!-- 2. ESTILOS (Tailwind CSS) Y FUENTES -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- 3. MOTOR PARA LEER EL C√ìDIGO (Babel) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        /* Scroll elegante */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        .tipificacion-card:hover {
            border-color: #f43f5e; /* Rose 500 */
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 4. TU APLICACI√ìN WIKI (L√≥gica Completa Corregida y Actualizada) -->
    <script type="text/babel" data-presets="react" data-type="module">
        import React, { useState } from 'https://esm.sh/react@18.2.0';
        import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';
        import { 
            Search, BookOpen, ShieldCheck, Lightbulb, Menu, X, ChevronRight, 
            Calculator, AlertTriangle, CheckCircle, Clock, FileText, User, 
            DollarSign, Globe, Smartphone, RotateCcw, Calendar, MapPin, Briefcase,
            MessageCircle, Clipboard, Send, HelpCircle, Home, ExternalLink, Link, Eye, Info
        } from 'https://esm.sh/lucide-react@0.263.1';

        // --- DATA DEL SISTEMA ---
        const wikiData = {
            links: {
                formDescuentos: "https://forms.office.com/Pages/DesignPageV2.aspx?prevorigin=shell&origin=NeoPortalPage&subpage=design&id=BQZldA8p5Em-njqSbbFJyqjt2zcJafdOkBCR-pMG625UOEhHU082RTBIU01KMFQ3WjlRSTlBUE5WUyQlQCN0PWcu",
                teamsSoporte: "https://teams.microsoft.com/l/channel/19%3A1f9d3fa1936741ec9571e0ec69f1e7b6%40thread.tacv2/Soporte%20Operaci%C3%B3n?groupId=c1accda4-6cca-4dd7-bc44-8eb7ecb22741&tenantId=74650605-290f-49e4-be9e-3a926db149ca",
                gestionDescuentosVisual: "https://whitneyintl.sharepoint.com/:x:/t/GestinBackoffice/IQDUYXMFXijlSrLqWvKLP9aiAS8uK-195hmIs4HXLJZvXY0?e=fXNXhC",
                guiaRematricula: "https://view.genially.com/66a803b4211e0130bc4f0319/interactive-content-rematricula-2026-1",
                conveniosVigentes: "https://whitneyintl.sharepoint.com/:x:/r/sites/PolitcnicoGrancolombianoRelacionamiento2/_layouts/15/Doc.aspx?sourcedoc=%7BE02B4A75-77B0-46C8-9787-13DAFEF08EB3%7D&file=04.%20LISTADO%20DE%20CONVENIOS%20EMPRESARIALES%2009-09-2025%20(1).xlsx&action=default&mobileredirect=true"
            },
            definitions: [
                {
                    id: 'fin-001', category: 'Financiero', title: 'üí∏ Alivios Financieros',
                    definition: `‚Ä¢ Pronto Pago (Vigencia hasta Dic 21): 5% Virtual | 3% Presencial.\n‚Ä¢ Descuento Ingresante: ‚ö†Ô∏è Solo si pasa a 2do o 3er semestre. (Cruzar con tabla 2025-60).\n‚Ä¢ Reintegro: 10% para estudiantes que retoman estudios.`,
                    permissions: 'Pronto pago aplica a: Matr√≠cula completa, Media y 50/50.',
                    requirements: ['Validar fechas', 'Revisar hist√≥rico'], 
                    isHighlight: true, icon: Calendar,
                    action: { label: 'Ver Gu√≠a Rematr√≠cula', link: 'guiaRematricula', icon: ExternalLink }
                },
                {
                    id: 'doc-001', category: 'Documentaci√≥n', title: 'üè¢ Descuentos Comerciales',
                    definition: `1. Empresariales: Carta < 30 d√≠as.\n2. Acad√©micos: T√≠tulo/Acta (Ver Analytics -> Tipo admisi√≥n).\n3. V√≠ctimas: Certificado RUV.\n4. Municipalidad: Certificado Residencia Alcald√≠a + Radicaci√≥n.`,
                    permissions: 'OJO: Si en Analytics sale TA, TV, TO o ya lo tuvo antes, NO PEDIR SOPORTE.',
                    requirements: ['Soportes legibles'], icon: Briefcase,
                    action: { label: 'Revisar Convenios Vigentes', link: 'conveniosVigentes', icon: Search }
                },
                {
                    id: 'idiomas-001', category: 'Idiomas', title: 'üìú Certificado de Idiomas',
                    definition: 'Costo: $16.000. BO genera orden -> Estudiante paga -> Estudiante monta caso.',
                    permissions: 'VER DETALLE COMPLETO EN PESTA√ëA TIPS O CERTIFICADOS.',
                    requirements: ['Validar PARA QU√â requiere el certificado', 'Explicar tipos de certificados al estudiante'], icon: Globe
                }
            ],
            mesaAyudaItems: [
                { id: 1, title: 'Aplicaci√≥n de alivios', desc: 'Aplicaci√≥n de alivios financieros que se otorgan en el periodo acad√©mico. Ejemplo (Pronto pago).', tipificacion: 'ORDEN DE MATR√çCULA' },
                { id: 2, title: 'Aplicaci√≥n de descuentos', desc: 'Aplicaci√≥n de descuentos por convenio (Sena, Policia, Cies, etc.). Adjuntar soportes seg√∫n corresponda.', tipificacion: 'ORDEN DE MATR√çCULA' },
                { id: 3, title: 'Creaci√≥n de anticipos', desc: 'Cuando requiere pagar matr√≠cula con cesant√≠as y este valor es superior al de la matr√≠cula.', tipificacion: 'ORDEN DE MATR√çCULA' },
                { id: 4, title: 'Diferencia del 50%', desc: 'Cuando el estudiante se acoge al pago por bloques y requiere el pago pendiente.', tipificacion: 'ORDEN DE MATR√çCULA' },
                { id: 5, title: 'Estimaci√≥n de cuota', desc: 'Cuando no registra el cargo de la orden de pago en Banner.', tipificacion: 'ORDEN DE MATR√çCULA' },
                { id: 7, title: 'Carta Cr√©dito', desc: 'Legalizaci√≥n cr√©dito para todas las entidades financieras con convenio. Adjuntar carta cr√©dito.', tipificacion: 'LEGALIZACI√ìN DE MATR√çCULA' },
                { id: 8, title: 'Legalizaci√≥n de pago', desc: 'No aplica Icetex ni pagos timbre. Para PayU: Revisar primero link transaccional. Si >3 d√≠as y no registra, escalar.', tipificacion: 'LEGALIZACI√ìN DE MATR√çCULA' },
                { id: 9, title: '√öltima materia', desc: 'Solicitud de orden por "√∫ltima materia". Revisar avance curricular antes de cargar.', tipificacion: 'INSCRIPCI√ìN √öLTIMA MATERIA' },
                { id: 10, title: 'Cambios de Programa/Sede/Mod', desc: 'Cambio de jornada, modalidad, sede, programa, doble programa o segundo ciclo cuando falla autogesti√≥n.', tipificacion: 'INCONVENIENTE PLATAFORMA COMPLEMENTARIAS' },
                { id: 11, title: '√ânfasis', desc: 'Cuando el estudiante presencial no puede solicitar el √©nfasis por autogesti√≥n. Adjuntar nombre del √©nfasis.', tipificacion: 'INCONVENIENTE PLATAFORMA COMPLEMENTARIAS' },
                { id: 12, title: 'Acceso a Inscripci√≥n', desc: 'Situaciones t√©cnicas que impidan el acceso a la inscripci√≥n de asignaturas. Cargar soportes.', tipificacion: 'INSCRIPCI√ìN DE ASIGNATURAS' },
                { id: 13, title: 'Sobrepasos', desc: 'Falta de cupos presenciales. Revisar restricciones en virtuales (posible jornada contraria).', tipificacion: 'INSCRIPCI√ìN DE ASIGNATURAS' },
                { id: 14, title: 'Ampliaci√≥n de cr√©ditos', desc: 'Cuando se evidencia que por plan de estudios debe inscribir m√°s materias y requiere m√°s cupo.', tipificacion: 'INSCRIPCI√ìN DE ASIGNATURAS' },
                { id: 15, title: 'Proyecciones', desc: 'Cuando al estudiante no le registran las proyecciones necesarias para inscribir asignaturas.', tipificacion: 'INSCRIPCI√ìN DE ASIGNATURAS' },
                { id: 16, title: 'Saber pro', desc: 'Situaciones con las pruebas (Validar inscripci√≥n o verificar credenciales cuando no han realizado registro).', tipificacion: 'PRUEBAS SABER PRO' },
                { id: 17, title: 'Reconocimiento de cr√©ditos', desc: 'Dudas sobre cr√©ditos solicitados o cargados a un programa espec√≠fico.', tipificacion: 'VALIDACI√ìN PLAN DE ESTUDIOS' },
                { id: 18, title: 'Actualizaci√≥n Correo-Celular', desc: 'Vincular celular con Office 365. Extranjeros deben incluir indicativo de pa√≠s.', tipificacion: 'ACTUALIZACI√ìN Y/O CORRECCI√ìN DE DATOS' },
                { id: 19, title: 'Restablecimiento Contrase√±a', desc: 'Si el CPO no permite el cambio de clave. Adjuntar soportes del error.', tipificacion: 'CONTRASE√ëAS PLATAFORMA' },
                { id: 20, title: 'Cambio SO a TM', desc: 'Cuando Analytics muestra todo aprobado para grado pero el estado sigue en SO.', tipificacion: 'PAZ Y SALVOS GRADOS' },
                { id: 21, title: 'Validaci√≥n de documentos', desc: 'Cuando pasa m√°s de una semana h√°bil de haber cargado documentos de grado.', tipificacion: 'PAZ Y SALVOS GRADOS' },
                { id: 22, title: 'Retiro de cargos financieros', desc: 'Reversi√≥n de cargos por certificados, diferencias, licencias o diplomados. No aplica para Deuda Cartera.', tipificacion: 'CARTERA-DEUDA O ABONO' }
            ],
            chatPisoItems: [
                { id: 1, title: 'Media Matr√≠cula', desc: 'Gesti√≥n y aplicaci√≥n directa.' },
                { id: 2, title: 'Actualizaci√≥n CAPP', desc: 'Solo cuando sea necesario (fechas masivas) o casu√≠stica particular.' },
                { id: 3, title: 'Certificados de Idiomas', desc: 'Generaci√≥n de orden de pago.' },
                { id: 4, title: 'Diferencia 50%', desc: 'Generaci√≥n de la segunda orden de pago.' },
                { id: 5, title: 'Estimaci√≥n de Cuota', desc: 'Inserci√≥n de cargos de matr√≠cula en Banner.' },
                { id: 6, title: 'Licencia ED', desc: 'Generaci√≥n de orden de pago English Discoveries.' },
                { id: 7, title: 'Anticipo de Matr√≠cula', desc: 'Generaci√≥n de ordenes (cheques con centavos).' },
                { id: 8, title: 'Certificados Primer Nivel', desc: 'Revisar que registre el pago en sistema y validar con el estudiante la ruta para descargarlo por el SmartCampus.' },
                { id: 9, title: '√öltima Materia', desc: 'Si avance curricular muestra que falta solo una.' }
            ],
            idiomasInfo: {
                tipos: [
                    { t: 'Certificado de uso de licencia de ingl√©s', d: 'Opci√≥n v√°lida para cumplir requisito institucional (auxilios econ√≥micos o cesant√≠as).' },
                    { t: 'Certificado de cumplimiento del requisito', d: 'Detalla c√≥mo el estudiante cumpli√≥ el requisito.' },
                    { t: 'Certificado de obligatoriedad', d: 'Se√±ala que el ingl√©s es obligatorio para t√≠tulo.' }
                ],
                warning: 'Si el estudiante ya complet√≥ el proceso pero no aparece aprobado, NO emitir certificado. Revisar que el CAPP est√© actualizado. En caso de no estar actualizado: Solicitar actualizaci√≥n. Si a√∫n as√≠ no registra: Escalar a trav√©s de ticket por "Validaci√≥n plan de estudios".'
            },
            tips: [
                { id: 't1', title: '‚õî NO DERIVAR TICKETS DE DESCUENTOS', content: 'Respuesta INMEDIATA. Solo ticket si hay error en Banner.', type: 'warning' },
                { id: 't2', title: 'üìÖ Vigencia Pronto Pago', content: 'Hasta el 21 de Diciembre. ¬°Usa esto para cierre!', type: 'success' },
                { id: 't3', title: 'üéì Descuento Ingresante', content: 'Solo si pasa a 2do o 3er semestre. Cruzar con 2025-60.', type: 'warning' },
                { id: 't4', title: '‚ö° Tiempos de Respuesta (SLA)', content: '‚Ä¢ Solicitudes BO: ¬°INMEDIATO!\n‚Ä¢ Nota: Si el BO indica que no alcanza a gestionar, derivar a Mesa de Ayuda (Ticket). Tiempo: 24 a 72 hrs h√°biles.', type: 'info' },
                { id: 't5', title: '‚ö†Ô∏è Regla de Oro (Descuentos)', content: 'REGLA DE MAYOR VALOR: Siempre se otorga el descuento de mayor porcentaje (%). Si tiene 10% y 15%, se aplica el 15%.', type: 'info' }
            ]
        };

        const IconComp = ({ icon: IconName, className }) => <IconName className={className} />;

        const WikiBO = () => {
            const [activeSection, setActiveSection] = useState('home');
            const [searchTerm, setSearchTerm] = useState('');
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
            const [filterCategory, setFilterCategory] = useState('Todos');

            const copyTemplate = () => {
                const t = `ID: \nTipo de estudiante: (Regular/Convenio)\nPrograma y Modalidad: \nConsulta: (¬øQu√© necesita el estudiante? S√© concret@)\nSoportes: Si aplica / NA`;
                navigator.clipboard.writeText(t);
                alert('¬°Plantilla copiada!');
            };

            const getCatColor = (cat) => {
                if(cat === 'Financiero') return 'bg-emerald-100 text-emerald-800 border-emerald-200';
                if(cat === 'Documentaci√≥n') return 'bg-indigo-100 text-indigo-800 border-indigo-200';
                if(cat === 'Idiomas') return 'bg-orange-100 text-orange-800 border-orange-200';
                return 'bg-blue-100 text-blue-800 border-blue-200';
            };

            const filteredDefs = wikiData.definitions.filter(i => 
                (filterCategory === 'Todos' || i.category === filterCategory) &&
                (i.title.toLowerCase().includes(searchTerm.toLowerCase()) || i.definition.toLowerCase().includes(searchTerm.toLowerCase()))
            );

            const renderContent = () => {
                if (activeSection === 'home') return (
                    <div className="flex flex-col items-center justify-center py-8 text-center animate-fadeIn">
                        <div className="bg-gradient-to-r from-blue-600 to-emerald-500 p-1 rounded-full mb-6 shadow-xl">
                            <div className="bg-white p-4 rounded-full"><BookOpen className="w-16 h-16 text-blue-600" /></div>
                        </div>
                        <h1 className="text-4xl font-bold text-gray-800 mb-4">Bienvenido a tu <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-emerald-500">Wiki BO</span></h1>
                        <p className="text-lg text-gray-600 max-w-3xl mb-8 leading-relaxed bg-white p-6 rounded-xl border border-gray-100 shadow-sm">
                            Esta herramienta ha sido creada para que tengas a la mano qu√© solicitudes gestiona nuestro Back Office, con el fin de ser m√°s resolutivos y precisos en c√≥mo pedir cada gesti√≥n.
                            <br/><strong>Recuerda:</strong> Una solicitud bien escalada es una soluci√≥n r√°pida para el estudiante.
                        </p>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-2xl mb-10">
                            <a href={wikiData.links.formDescuentos} target="_blank" className="flex items-center justify-center p-4 bg-emerald-600 text-white rounded-xl shadow-lg hover:bg-emerald-700 font-bold group transition-transform hover:-translate-y-1">
                                <Calculator className="w-6 h-6 mr-3 group-hover:scale-110"/> Solicitud Descuentos
                            </a>
                            <a href={wikiData.links.teamsSoporte} target="_blank" className="flex items-center justify-center p-4 bg-indigo-600 text-white rounded-xl shadow-lg hover:bg-indigo-700 font-bold group transition-transform hover:-translate-y-1">
                                <MessageCircle className="w-6 h-6 mr-3 group-hover:scale-110"/> Soporte Operaci√≥n
                            </a>
                        </div>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 w-full max-w-5xl">
                             {[
                                {id: 'definitions', label: 'üìñ Diccionario BO', color: 'blue'},
                                {id: 'discounts', label: 'üè∑Ô∏è Descuentos', color: 'emerald'},
                                {id: 'chatpiso', label: 'üí¨ Chat de Piso', color: 'indigo'},
                                {id: 'mesaAyuda', label: 'üéß Mesa de Ayuda', color: 'rose'}
                             ].map(btn => (
                                <button key={btn.id} onClick={() => setActiveSection(btn.id)} className={`p-4 bg-white border border-gray-100 rounded-xl shadow-sm hover:shadow-md transition-all hover:bg-${btn.color}-50 text-gray-700 font-medium`}>
                                    {btn.label}
                                </button>
                             ))}
                        </div>
                    </div>
                );

                if (activeSection === 'definitions') return (
                    <div className="space-y-6 animate-fadeIn">
                        <div className="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg"><h2 className="text-xl font-bold text-blue-800 flex items-center"><BookOpen className="w-6 h-6 mr-2" /> Diccionario de Solicitudes</h2></div>
                        <div className="flex gap-2 overflow-x-auto pb-2 scrollbar-hide">
                            {['Todos', 'Financiero', 'Documentaci√≥n', 'Idiomas'].map(cat => (
                                <button key={cat} onClick={() => setFilterCategory(cat)} className={`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${filterCategory === cat ? 'bg-slate-800 text-white shadow-md' : 'bg-white border text-gray-600 hover:bg-gray-50'}`}>{cat}</button>
                            ))}
                        </div>
                        <div className="grid gap-6 md:grid-cols-2">
                            {filteredDefs.map(item => (
                                <div key={item.id} className={`bg-white rounded-xl shadow-sm border p-5 hover:shadow-md transition-all flex flex-col justify-between ${item.isHighlight ? 'border-emerald-200 ring-1 ring-emerald-100' : 'border-gray-100'}`}>
                                    <div>
                                        <div className="flex justify-between mb-3">
                                            <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2">
                                                <span className={`p-2 rounded-lg ${getCatColor(item.category).split(' ')[0]}`}><IconComp icon={item.icon} className="w-5 h-5"/></span> {item.title}
                                            </h3>
                                        </div>
                                        <span className={`px-2 py-1 rounded text-xs font-semibold mb-3 ${getCatColor(item.category)}`}>{item.category}</span>
                                        <p className="text-gray-600 text-sm my-4 whitespace-pre-line">{item.definition}</p>
                                        {item.requirements && (
                                            <div className="bg-gray-50 rounded-lg p-3 text-sm border"><p className="font-semibold mb-1">üìã Requisitos:</p><ul className="list-disc list-inside">{item.requirements.map((r,i)=><li key={i}>{r}</li>)}</ul></div>
                                        )}
                                    </div>
                                    {item.action && (
                                        <a href={wikiData.links[item.action.link]} target="_blank" className="mt-4 w-full bg-blue-50 text-blue-700 hover:bg-blue-100 py-2 rounded-lg font-bold flex items-center justify-center text-sm transition-colors border border-blue-200">
                                            <IconComp icon={item.action.icon} className="w-4 h-4 mr-2"/> {item.action.label}
                                        </a>
                                    )}
                                </div>
                            ))}
                        </div>
                    </div>
                );

                if (activeSection === 'mesaAyuda') return (
                    <div className="space-y-6 animate-fadeIn">
                        <div className="bg-rose-50 border-l-4 border-rose-500 p-5 rounded-r-lg">
                            <div className="flex items-center justify-between">
                                <div>
                                    <h2 className="text-xl font-bold text-rose-800 flex items-center"><HelpCircle className="w-6 h-6 mr-2" /> Mesa de Ayuda / Escalamiento T√©cnico</h2>
                                    <p className="text-rose-600 mt-1">Directorio de tipificaciones para expertos. Haz clic en la tarjeta para ver el t√≠tulo correcto.</p>
                                </div>
                                <div className="hidden md:block bg-white/50 px-4 py-2 rounded-lg border border-rose-200">
                                    <span className="text-xs font-bold text-rose-800 uppercase tracking-widest">SLA: 24 - 72 Horas</span>
                                </div>
                            </div>
                        </div>

                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {wikiData.mesaAyudaItems.map((item, idx) => (
                                <div key={idx} className="bg-white p-5 rounded-xl border border-gray-200 shadow-sm transition-all tipificacion-card group flex flex-col justify-between">
                                    <div>
                                        <div className="flex items-center justify-between mb-3">
                                            <span className="text-[10px] font-bold text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full">SOLICITUD #{item.id}</span>
                                            <Info size={14} className="text-rose-300 opacity-0 group-hover:opacity-100 transition-opacity" />
                                        </div>
                                        <h3 className="font-bold text-gray-800 mb-2 leading-tight">{item.title}</h3>
                                        <p className="text-xs text-gray-600 mb-4 leading-relaxed">{item.desc}</p>
                                    </div>
                                    
                                    <div className="mt-auto pt-3 border-t border-dashed border-gray-100">
                                        <div className="p-3 bg-rose-50 rounded-lg border border-rose-100 group-hover:bg-rose-100 transition-colors">
                                            <p className="text-[9px] uppercase tracking-wider font-extrabold text-rose-400 mb-1">T√≠tulo exacto para el caso:</p>
                                            <p className="text-[11px] font-bold text-rose-800 select-all cursor-pointer flex items-center justify-between">
                                                {item.tipificacion}
                                                <Clipboard size={10} className="ml-2" />
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                );

                if (activeSection === 'tips') return (
                    <div className="space-y-6 animate-fadeIn">
                        <div className="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg"><h2 className="text-xl font-bold text-amber-800 flex items-center"><Lightbulb className="w-6 h-6 mr-2" /> Tips & Certificados</h2></div>
                        <div className="bg-orange-50 rounded-2xl p-6 border border-orange-200 shadow-sm relative overflow-hidden">
                            <h3 className="text-xl font-bold text-orange-900 mb-4 flex items-center relative z-10"><Globe className="w-6 h-6 mr-2"/> Tipos de Certificados Idiomas</h3>
                            <div className="grid md:grid-cols-3 gap-4 mb-6 relative z-10">
                                {wikiData.idiomasInfo.tipos.map((t, idx) => (
                                    <div key={idx} className="bg-white/80 p-4 rounded-xl border border-orange-100">
                                        <h4 className="font-bold text-orange-800 text-sm mb-2">{t.t}</h4>
                                        <p className="text-xs text-orange-900/80 leading-relaxed">{t.d}</p>
                                    </div>
                                ))}
                            </div>
                            <div className="bg-red-50 border-l-4 border-red-400 p-4 rounded-r-lg relative z-10">
                                <p className="font-bold text-red-800 text-sm mb-1">‚ö†Ô∏è ¬°Validaci√≥n Cr√≠tica!</p>
                                <p className="text-sm text-red-700 leading-relaxed">{wikiData.idiomasInfo.warning}</p>
                            </div>
                            <div className="absolute top-0 right-0 -mt-10 -mr-10 w-32 h-32 bg-orange-200 rounded-full opacity-20 blur-2xl"></div>
                        </div>
                        <div className="space-y-4">
                            {wikiData.tips.map(tip => (
                                <div key={tip.id} className="bg-white rounded-xl shadow-sm border-l-4 p-6 hover:bg-gray-50 transition-colors" style={{borderLeftColor: tip.type === 'success' ? '#10B981' : tip.type === 'warning' ? '#F59E0B' : '#3B82F6'}}>
                                    <div className="flex items-start">
                                        <div className="mr-3 mt-1">
                                            {tip.type === 'warning' && <AlertTriangle className="w-5 h-5 text-amber-500" />}
                                            {tip.type === 'success' && <CheckCircle className="w-5 h-5 text-emerald-500" />}
                                            {tip.type === 'info' && <Clock className="w-5 h-5 text-blue-500" />}
                                        </div>
                                        <div>
                                            <h3 className="font-bold text-lg text-gray-800 mb-2">{tip.title}</h3>
                                            <p className="text-gray-600 whitespace-pre-line text-sm leading-relaxed">{tip.content}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                );

                if (activeSection === 'discounts') return (
                     <div className="space-y-8 animate-fadeIn">
                        <div className="bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-8 text-white shadow-lg relative overflow-hidden">
                            <div className="relative z-10">
                                <h2 className="text-2xl font-bold mb-4 flex items-center"><Lightbulb className="w-8 h-8 mr-3"/> Informaci√≥n General</h2>
                                <p className="bg-white/10 p-4 rounded-xl border border-white/20 text-lg">"Si evidenciamos en <b>Analytics Acad√©mico</b> (c√≥digos TA, TV, TO) o trazabilidad de semestres anteriores, <b>NO necesitamos adjuntar soporte nuevamente</b>."</p>
                                
                                <div className="mt-6 flex flex-col sm:flex-row gap-4">
                                    <a href={wikiData.links.formDescuentos} target="_blank" className="bg-white text-emerald-700 px-6 py-3 rounded-full font-bold shadow-md hover:bg-emerald-50 transition-colors flex items-center justify-center">
                                        <ExternalLink className="w-5 h-5 mr-2"/> Solicitud de Descuentos
                                    </a>
                                    <a href={wikiData.links.gestionDescuentosVisual} target="_blank" className="bg-emerald-800 text-white px-6 py-3 rounded-full font-bold shadow-md hover:bg-emerald-900 transition-colors flex items-center justify-center text-sm">
                                        <Eye className="w-5 h-5 mr-2"/> Consultar Gesti√≥n (Excel)
                                    </a>
                                </div>

                                <div className="mt-6 bg-white/20 p-4 rounded-xl border border-white/30">
                                    <h3 className="font-bold text-lg mb-2 flex items-center"><CheckCircle className="w-5 h-5 mr-2"/> Regla de Mayor Valor</h3>
                                    <p className="text-sm">Siempre se otorga el descuento de mayor %. (Si tiene 10% y 15%, se aplica el 15%).</p>
                                </div>
                            </div>
                            <Calculator size={200} className="absolute -right-10 -bottom-20 text-white opacity-10 rotate-12" />
                        </div>
                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                            <h3 className="text-lg font-bold text-gray-800 mb-4">Acumulables Permitidos</h3>
                            <ul className="space-y-3">
                                <li className="p-3 bg-gray-50 rounded-lg border border-gray-100 font-medium text-gray-700 flex items-center"><span className="w-6 h-6 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-xs mr-3 font-bold">1</span> Pronto Pago + Dcto. Ingresante</li>
                                <li className="p-3 bg-gray-50 rounded-lg border border-gray-100 font-medium text-gray-700 flex items-center"><span className="w-6 h-6 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-xs mr-3 font-bold">2</span> Pronto Pago + Convenio</li>
                                <li className="p-3 bg-gray-50 rounded-lg border border-gray-100 font-medium text-gray-700 flex items-center"><span className="w-6 h-6 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-xs mr-3 font-bold">3</span> Reintegro + Convenio</li>
                            </ul>
                        </div>
                    </div>
                );

                if (activeSection === 'chatpiso') return (
                     <div className="space-y-6 animate-fadeIn">
                        <div className="bg-indigo-50 border-l-4 border-indigo-500 p-5 rounded-r-lg">
                            <h2 className="text-xl font-bold text-indigo-800 flex items-center"><MessageCircle className="w-6 h-6 mr-2" /> Chat de Piso / Apoyo Operativo</h2>
                            <p className="text-indigo-600 mt-1 text-sm font-medium italic">Gesti√≥n operativa en tiempo real para casos espec√≠ficos.</p>
                        </div>
                        <div className="grid md:grid-cols-2 gap-8">
                            <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
                                <div className="bg-indigo-600 px-6 py-4"><h3 className="text-white font-bold flex items-center text-sm"><CheckCircle className="w-5 h-5 mr-2"/> Lo que S√ç atendemos aqu√≠</h3></div>
                                <div className="divide-y divide-gray-100 max-h-[500px] overflow-y-auto">
                                    {wikiData.chatPisoItems.map(item => (
                                        <div key={item.id} className="p-4 hover:bg-indigo-50 transition-colors">
                                            <p className="font-bold text-gray-800 text-sm mb-1">{item.title}</p>
                                            <p className="text-xs text-gray-500 leading-relaxed">{item.desc}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <div className="flex flex-col gap-6">
                                <div className="bg-slate-800 text-white rounded-xl shadow-lg p-6">
                                    <h3 className="font-bold mb-4 flex items-center text-indigo-300"><Clipboard className="w-5 h-5 mr-2"/> Plantilla Obligatoria</h3>
                                    <div className="bg-slate-900/50 p-4 rounded-lg font-mono text-xs text-gray-300 border border-slate-700 whitespace-pre-wrap leading-loose">ID: <br/>Tipo de estudiante: <br/>Programa y Modalidad: <br/>Consulta: <br/>Soportes: </div>
                                    <button onClick={copyTemplate} className="mt-4 w-full bg-indigo-500 hover:bg-indigo-400 py-2 rounded-lg font-bold text-sm transition-transform active:scale-95">Copiar Plantilla</button>
                                </div>
                                <a href={wikiData.links.teamsSoporte} target="_blank" className="w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-lg font-bold flex items-center justify-center shadow-md transition-all hover:-translate-y-1">
                                    <Send className="w-5 h-5 mr-2"/> Abrir Chat de Soporte (Teams)
                                </a>
                            </div>
                        </div>
                    </div>
                );
                return null;
            };

            return (
                <div className="min-h-screen flex flex-col md:flex-row">
                    <aside className={`fixed md:sticky top-0 z-30 h-screen w-64 bg-slate-900 text-white transition-transform ${mobileMenuOpen ? 'translate-x-0' : '-translate-x-full'} md:translate-x-0 flex flex-col shadow-2xl`}>
                        <div className="p-6 border-b border-slate-800 flex justify-between items-center cursor-pointer" onClick={() => setActiveSection('home')}>
                            <div><h1 className="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-emerald-400">Wiki BO</h1><p className="text-xs text-slate-400 mt-1">Base de Conocimiento</p></div>
                            <button onClick={() => setMobileMenuOpen(false)} className="md:hidden text-slate-400"><X /></button>
                        </div>
                        <nav className="flex-1 p-4 space-y-2 overflow-y-auto">
                            {[
                                {id:'home', label:'Inicio', icon: Home}, 
                                {id:'definitions', label:'Diccionario BO', icon: BookOpen}, 
                                {id:'discounts', label:'Descuentos', icon: Calculator}, 
                                {id:'chatpiso', label:'Chat Piso', icon: MessageCircle}, 
                                {id:'mesaAyuda', label:'Mesa Ayuda', icon: HelpCircle}, 
                                {id:'tips', label:'Tips y SLAs', icon: Lightbulb}
                            ].map(nav => (
                                <button key={nav.id} onClick={() => { setActiveSection(nav.id); setMobileMenuOpen(false); }} className={`w-full flex items-center p-3 rounded-xl transition-all ${activeSection === nav.id ? 'bg-slate-700 text-white shadow-lg' : 'text-slate-300 hover:bg-slate-800'}`}>
                                    <IconComp icon={nav.icon} className="mr-3 w-5 h-5" /> <span className="font-medium text-sm">{nav.label}</span>
                                </button>
                            ))}
                        </nav>
                        <div className="p-4 bg-slate-950 border-t border-slate-800">
                             <p className="text-[10px] text-slate-500 uppercase tracking-widest font-bold">Poli Servicio - 2026</p>
                        </div>
                    </aside>
                    <main className="flex-1 flex flex-col min-w-0 h-screen overflow-hidden">
                        <div className="md:hidden bg-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm">
                            <h1 className="text-lg font-bold text-slate-800">Wiki Gesti√≥n BO</h1>
                            <button onClick={() => setMobileMenuOpen(true)} className="text-slate-600 bg-gray-100 p-2 rounded-lg"><Menu /></button>
                        </div>
                        <div className="flex-1 p-4 md:p-8 overflow-y-auto bg-gray-50 scroll-smooth">
                            <div className="max-w-6xl mx-auto pb-10">
                                {activeSection !== 'home' && (
                                    <button onClick={() => setActiveSection('home')} className="mb-6 text-xs font-bold text-blue-500 flex items-center hover:text-blue-700 transition-colors uppercase tracking-widest">
                                        <ChevronRight size={14} className="rotate-180 mr-1" /> Volver al Inicio
                                    </button>
                                )}
                                {renderContent()}
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<WikiBO />);
    </script>
</body>
</html>
